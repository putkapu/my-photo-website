---
const photoNames = [
  1, 6, 39,
  2, 11, 12,
  46, 24, 19,
  10, 30, 31,
  15, 16, 17
]
---

<div class="photo-grid" id="photoGrid">
  {photoNames.map((num) => (
    <div class="photo-container">
      <img 
        class="photo" 
        src={`/photos/${num}.jpg`} 
        alt=""
        loading="lazy"
      />
    </div>
  ))}
</div>

<div id="modal" class="modal" style="display: none;">
  <img id="modalImage" class="modal-image" src="" alt="" />
</div>

<script>
  const photos = document.querySelectorAll('.photo')
  const modal = document.getElementById('modal') as HTMLDivElement
  const modalImage = document.getElementById('modalImage') as HTMLImageElement

  photos.forEach(photo => {
    photo.addEventListener('click', () => {
      const img = photo as HTMLImageElement
      modalImage.src = img.src
      modal.style.display = 'flex'
      document.body.style.overflow = 'hidden'
    })
  })

  modal.addEventListener('click', () => {
    modal.style.display = 'none'
    document.body.style.overflow = ''
  })

  document.addEventListener('keydown', (e) => {
    if (e.key === 'Escape' && modal.style.display === 'flex') {
      modal.style.display = 'none'
      document.body.style.overflow = ''
    }
  })
</script>
